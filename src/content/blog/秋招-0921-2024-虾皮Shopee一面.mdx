---
title: "秋招-0921-2024-虾皮Shopee一面"
description: "秋招-0921-2024-虾皮Shopee一面面经"
pubDate: "09 21 2024"
categories:
  - tech
tags:
  - 面经
  - 秋招
---

时长：1h，虾皮线上一面

基本没有八股，全程项目拷打

1. 自我介绍
2. 项目是从0搭建的还是找的开源项目？
3. 后端通过验证码和前端保持半长连接，如何理解这个所谓的半长连接，平时只听说过长连接，短连接
4. 二维码和前端保持一个长连接的关系，这个怎么去理解？
5. 映射关系在后端是怎么保存的？(上一个问题答了二维码验证码之间有映射关系)
6. 长连接是怎么实现的？(利用了什么技术？)
7. 长连接和短连接之间的区别？
8. Redis用来做数据统计，大概是怎么用的？(用的什么命令？)
9. 数据统计之后，写到数据库里，那数据库表是怎么设计的呢？
10. 当用户数量增长到一亿级别之后，你这个数据库的规模会有多大？
11. 假设现在就让你来设计，一亿用户十亿用户的级别，那分库分表怎么分呢？
12. 如果你是按用户的创建时间来做分库分表，那时间维度怎么拆分呢？
13. 如果按年来拆分的话，那你怎么能保证，大部分用户都是在这一年以内创建的，那这张表还是会巨大？那分库分表就没有意义了
14. 说一下为什么要引入Redis，因为你这些数据都是存在数据库里面
15. 那说一下这个Redis是如何做的用户活跃度排行？用的什么数据结构？
16. 然后你说是通过先写MySQL，再删除缓存来保证高并发场景下的并发一致性，为什么这样子就能保证呢？
17. 你知道写数据库是很昂贵的吗，在高并发场景下，如果都去写数据库，你觉得数据库能扛得住吗
18. 而且这种场景，你觉得缓存一致性有那么重要吗？这种选择就相当于是保证数据一致然后数据库挂掉
19. 集成本地Guava和caffeine缓存，有效提高QPS，这个具体说一下？
20. 如果改了文章之后，你这个本地缓存又怎么去处理呢？刚刚上面为缓存一致性已经做了这么严格的要求了，现在本地缓存怎么处理呢？
21. 手撕:LRU算法(手动处理输入输出)
22. 反问....

# 总结

面试官非常有水平，一般都是夺命连环问，对业务的思考比较看重，属于是被狠狠地拷打了一下，回去还得沉淀

**Inner peace~**

last update:09-22-2024